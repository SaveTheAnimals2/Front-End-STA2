(this.webpackJsonpsavetheanimals=this.webpackJsonpsavetheanimals||[]).push([[0],{36:function(e,a,t){},45:function(e,a,t){e.exports=t(77)},55:function(e,a,t){},74:function(e,a,t){},75:function(e,a,t){},76:function(e,a,t){},77:function(e,a,t){"use strict";t.r(a);var n=t(1),l=t.n(n),r=t(19),o=t.n(r),c=t(18),i=t(13),m=t(38),u=t(6),s={isLoading:!1,error:"",isUpdating:!1},p=(t(54),t(55),t(9)),d=t(15),g=t(39);var E=function(e){var a=e.component,t=Object(g.a)(e,["component"]);return l.a.createElement(d.b,Object.assign({},t,{render:function(){return localStorage.getItem("token")?l.a.createElement(a,null):l.a.createElement(d.a,{to:"/login"})}}))},h=t(10),v=t(11),b=t(16),f=t.n(b),y=function(e){var a=Object(n.useState)({username:"",password:""}),t=Object(v.a)(a,2),r=t[0],o=t[1],c=e.history,i=function(e){o(Object(u.a)({},r,Object(h.a)({},e.target.name,e.target.value)))};return l.a.createElement("div",{className:"login-form"},l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),f.a.post("https://save-the-animal-buildweek.herokuapp.com/api/auth/login",r).then((function(e){localStorage.setItem("token",e.data.getToken),c.push("/dashboard")})).catch((function(e){console.log(e)}))}},l.a.createElement("h2",null,"Welcome Back!"),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"name"},"Username "),l.a.createElement("input",{id:"name",type:"text",name:"username",placeholder:"username",onChange:i,value:r.username})),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"password"},"Password "),l.a.createElement("input",{id:"password",type:"password",name:"password",placeholder:"password",onChange:i,value:r.password})),l.a.createElement("button",{className:"login-button",type:"login"},"Login"),l.a.createElement("div",null,"New User? Sign up ",l.a.createElement(p.b,{to:"/sign-up"},"here"),"!")))},C=(t(74),function(e){var a=Object(n.useState)({username:"",organizationName:"",email:"",password:"",password2:""}),t=Object(v.a)(a,2),r=t[0],o=t[1],c=e.history,i=function(e){o(Object(u.a)({},r,Object(h.a)({},e.target.name,e.target.value))),console.log(r)};return l.a.createElement("div",{className:"signup-form"},l.a.createElement("div",{className:"signup-formbox"},l.a.createElement("form",{onSubmit:function(e){e.preventDefault();var a={username:r.username,organizationName:r.organizationName,email:r.email,password:r.password};f.a.post("https://save-the-animal-buildweek.herokuapp.com/api/auth/register",a).then((function(e){c.push("/login")}))}},l.a.createElement("h1",null,"Sign Up"),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"username"},"UserName"),l.a.createElement("input",{id:"username",type:"text",name:"username",placeholder:"User Name",onChange:i,value:r.username})),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("input",{id:"email",type:"email",name:"email",placeholder:"email@email.com",onChange:i,value:r.email})),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("input",{id:"password",type:"password",name:"password",placeholder:"password",onChange:i,value:r.password}),r.password.length>0&&r.password.length<8?"Password too short":""),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"password2"},"Confirm Password"),l.a.createElement("input",{id:"password2",type:"password",name:"password2",placeholder:"re-enter password",onChange:i,value:r.password2}),r.password!==r.password2?"Password does not match":""),l.a.createElement("div",null,l.a.createElement("button",{type:"submit"},"I'm a Supporter")),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"name"},"Organization"),l.a.createElement("input",{id:"organizationName",type:"text",name:"organizationName",placeholder:"Name of Organization",onChange:i,value:r.organizationName})),l.a.createElement("div",null,l.a.createElement("button",{type:"submit"},"I'm an Organization")),l.a.createElement("div",null,"Already a member? Login ",l.a.createElement(p.b,{to:"/"},"here"),"!"))))});var w=function(){return f.a.create({baseURL:"https://save-the-animal-buildweek.herokuapp.com/api/",headers:{authorization:localStorage.getItem("token")}})},O=function(e,a){return function(t){t({type:"GET_CAMPAIGNS"}),w().put("/campaigns/".concat(a),e).catch((function(e){console.log(e),t({type:"FAILURE",payload:"Something went wrong. Try again"})}))}},j=t(21),N=t(41),L=t(42),S=(t(36),function(e){var a=Object(d.g)();return l.a.createElement("div",null,l.a.createElement("h2",null,"Your Campaigns"),l.a.createElement("div",{className:"campaign-container"},e.campaigns.map((function(t){return l.a.createElement("div",{className:"campaign-card",key:t.id},l.a.createElement(N.a,{onClick:function(){return a.push("/update-campaign/".concat(t.id))}}),l.a.createElement(L.a,{onClick:function(){return e.deleteCampaign(t.id)}}),l.a.createElement("h3",null,t.title),l.a.createElement("p",null,t.location),l.a.createElement("p",null,t.description),l.a.createElement("p",null,t.species),l.a.createElement("p",null,t.urgencyLevel),l.a.createElement("p",null,t.fundingGoals),l.a.createElement("p",null,t.deadline))}))))});var F=Object(i.b)((function(e){return{isLoading:e.isLoading,error:e.error}}),{updateCampaign:O,deleteCampaign:function(e){return function(a){a({type:"GET_CAMPAIGNS"}),w().delete("/campaigns/".concat(e)).catch((function(e){console.log(e),a({type:"FAILURE",payload:"Something went wrong. Try again"})}))}}})((function(e){var a=Object(n.useState)(null),t=Object(v.a)(a,2),r=t[0],o=t[1],c=e.isLoading,m=e.updateCampaign,u=e.deleteCampaign,s=Object(d.g)(),p=Object(i.c)();Object(n.useEffect)((function(){p({type:"GET_CAMPAIGNS"}),w().get("/campaigns").then((function(e){p({type:"SUCCESS"}),g(e.data)})).catch((function(e){return console.log(e)}))}),[p]);var g=function(e){o(e)};return l.a.createElement("div",{className:"user-dashboard"},l.a.createElement("h2",null,"Welcome to your dashboard"),l.a.createElement("button",{onClick:function(){return s.push("/add-campaign")}},"Add a Campaign"),!r&&c&&l.a.createElement("div",{className:"loading"},l.a.createElement(j.a,{animation:"grow",variant:"primary",role:"status"}),l.a.createElement(j.a,{animation:"grow",variant:"primary",role:"status"}),l.a.createElement(j.a,{animation:"grow",variant:"primary",role:"status"}),l.a.createElement("span",{className:"sr-only"},"Loading...")),r&&!c&&l.a.createElement("div",{className:"campaign-container"},l.a.createElement(S,{campaigns:r,updateCampaign:m,deleteCampaign:u})))})),G=Object(i.b)((function(e){return{isLoading:e.isLoading}}),{addCampaign:function(e){return function(a){a({type:"GET_CAMPAIGNS"}),w().post("/campaigns",e).catch((function(e){console.log(e),a({type:"FAILURE",payload:"Something went wrong. Try again"})}))}}})((function(e){var a=Object(d.g)(),t=Object(n.useState)({title:"",location:"",species:"",description:"",urgencyLevel:"",fundingGoals:"",deadline:""}),r=Object(v.a)(t,2),o=r[0],c=r[1],i=e.addCampaign,m=function(e){c(Object(u.a)({},o,Object(h.a)({},e.target.name,e.target.value)))};return l.a.createElement("div",{className:"campaign-form"},l.a.createElement("div",{className:"campaign-formbox"},l.a.createElement("h1",null,"Add a New Campaign"),l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),i(o),a.push("/dashboard")}},l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"title"},"Campaign Name "),l.a.createElement("input",{id:"title",type:"text",name:"title",placeholder:"Campaign Name",onChange:m,value:o.title})),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"location"},"Location "),l.a.createElement("input",{id:"location",type:"text",name:"location",placeholder:"city/country",onChange:m,value:o.location})),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"species"},"Species "),l.a.createElement("input",{id:"species",type:"text",name:"species",placeholder:"type of animal",onChange:m,value:o.species})),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"description"},"What will your campaign do?"," "),l.a.createElement("textarea",{id:"description",type:"text",name:"description",onChange:m,value:o.description})),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"select"},"Urgency Level "),l.a.createElement("select",{id:"urgency",type:"select",name:"urgencyLevel",placeholder:"select urgency",onChange:m,value:o.urgencyLevel},l.a.createElement("option",null),l.a.createElement("option",null,"Low"),l.a.createElement("option",null,"Medium"),l.a.createElement("option",null,"High"),l.a.createElement("option",null,"Critical"))),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"fundingGoals"},"Goal Amount "),l.a.createElement("input",{id:"fundingGoals",type:"text",name:"fundingGoals",placeholder:"$",onChange:m,value:o.fundingGoals})),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"deadline"},"Deadline "),l.a.createElement("input",{id:"deadline",type:"date",name:"deadline",placeholder:"MM/DD/YYYY",onChange:m,value:o.deadline})),l.a.createElement("button",{type:"submit"},"Add Campaign"))))})),A=Object(i.b)((function(e){return{state:e}}),{updateCampaign:O})((function(e){var a=Object(d.h)().id,t=Object(d.g)(),r=Object(n.useState)({title:"",location:"",species:"",description:"",urgencyLevel:"",fundingGoals:"",deadline:""}),o=Object(v.a)(r,2),c=o[0],i=o[1],m=e.updateCampaign;Object(n.useEffect)((function(){w().get("/campaigns/".concat(a)).then((function(e){i({title:e.data.title,location:e.data.location,description:e.data.description,species:e.data.species,urgencyLevel:e.data.urgencyLevel,fundingGoals:e.data.fundingGoals,deadline:e.data.deadline})})).catch((function(e){return console.log(e)}))}),[a]);var s=function(e){i(Object(u.a)({},c,Object(h.a)({},e.target.name,e.target.value)))};return l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),m(c,a),t.push("/dashboard")}},l.a.createElement("h1",null,"Campaign Form"),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"title"},"Campaign Name "),l.a.createElement("input",{id:"title",type:"text",name:"title",placeholder:"Campaign Name",onChange:s,value:c.title})),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"location"},"Location "),l.a.createElement("input",{id:"location",type:"text",name:"location",placeholder:"city/country",onChange:s,value:c.location})),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"species"},"Species "),l.a.createElement("input",{id:"species",type:"text",name:"species",placeholder:"type of animal",onChange:s,value:c.species})),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"description"},"Description of what your campaign will do "),l.a.createElement("textarea",{id:"description",type:"text",name:"description",onChange:s,value:c.description})),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"select"},"Urgency Level "),l.a.createElement("select",{id:"urgency",type:"select",name:"urgencyLevel",placeholder:"select urgency",onChange:s,value:c.urgencyLevel},l.a.createElement("option",null),l.a.createElement("option",null,"Low"),l.a.createElement("option",null,"Medium"),l.a.createElement("option",null,"High"),l.a.createElement("option",null,"Critical"))),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"fundingGoals"},"Goal Amount "),l.a.createElement("input",{id:"fundingGoals",type:"text",name:"fundingGoals",placeholder:"$",onChange:s,value:c.fundingGoals})),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"deadline"},"Deadline "),l.a.createElement("input",{id:"deadline",type:"text",name:"deadline",placeholder:"MM/DD/YYYY",onChange:s,value:c.deadline})),l.a.createElement("button",{type:"submit"},"Update Campaign"))}));t(75);function x(){return l.a.createElement("header",{className:"header-container"},l.a.createElement("h1",{className:"save-the-animals"},"Save the Animals"))}t(76);var k=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(x,null),l.a.createElement(p.a,null,l.a.createElement(d.d,null,l.a.createElement(d.b,{path:"/sign-up",component:C}),l.a.createElement(E,{path:"/dashboard",component:F}),l.a.createElement(E,{path:"/add-campaign",component:G}),l.a.createElement(E,{path:"/update-campaign/:id",component:A}),">",l.a.createElement(d.b,{exact:!0,path:"/",component:y}),l.a.createElement(d.b,{component:y}))))},U=Object(c.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_CAMPAIGNS":return Object(u.a)({},e,{isLoading:!0});case"SUCCESS":return Object(u.a)({},e,{isLoading:!1,error:""});case"FAILURE":return Object(u.a)({},e,{error:a.payload,isLoading:!1});default:return e}}),Object(c.a)(m.a));o.a.render(l.a.createElement(i.a,{store:U},l.a.createElement(k,null)),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.4349647f.chunk.js.map